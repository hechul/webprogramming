<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>MY PLANNER : iOS Style</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --bg-color: #f2f4f7;
      --card-bg: #ffffff;
      --text-main: #333;
      --text-sub: #888;
      --accent: #2c3e50;
      --bar-bg: #dce4f7; 
      --bar-text: #325ca8;
      --income: #2980b9;
      --expense: #e74c3c;
      --shadow: 0 10px 30px rgba(0,0,0,0.06);
      --ios-curve: cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    * { box-sizing: border-box; font-family: 'Noto Sans KR', sans-serif; margin: 0; padding: 0; }
    body { background: var(--bg-color); display: flex; justify-content: center; padding: 30px; min-height: 100vh; }

    #app { display: flex; gap: 20px; width: 1280px; max-width: 100%; }
    .main-container { flex: 3; display: flex; flex-direction: column; gap: 20px; }
    .side-container { flex: 1; display: flex; flex-direction: column; gap: 20px; }

    .card { background: var(--card-bg); border-radius: 20px; padding: 24px; box-shadow: var(--shadow); border: 1px solid #fff; }
    
    .calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .calendar-header h1 { font-size: 22px; font-weight: 800; letter-spacing: -1px; }
    .controls { display: flex; align-items: center; gap: 8px; font-size: 16px; font-weight: 700; }
    .nav-btn { width: 32px; height: 32px; border-radius: 50%; border: 1px solid #eee; background: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; }
    .today-btn { background: var(--accent); color: #fff; border: none; padding: 6px 14px; border-radius: 20px; cursor: pointer; font-size: 12px; font-weight: 600; }

    .calendar { width: 100%; table-layout: fixed; border-collapse: separate; border-spacing: 0; }
    .calendar th { font-size: 13px; color: var(--text-sub); padding-bottom: 10px; border-bottom: 1px solid #eee; }
    .calendar th.sun { color: #e74c3c; } .calendar th.sat { color: #2980b9; }

    .calendar td {
      height: 110px; vertical-align: top; border-bottom: 1px solid #eee; border-right: 1px solid #eee;
      cursor: pointer; padding: 0; position: relative; background: #fff;
    }
    .calendar td:hover { background: #fafafa; }
    .calendar td.selected { background: #f0f4f8; }
    .calendar td.selected .date-number { background: var(--accent); color: #fff; border-radius: 50%; }

    .date-header { padding: 6px 8px; display: flex; justify-content: space-between; align-items: center; height: 30px; }
    .date-number { font-weight: 600; font-size: 13px; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; }
    .daily-emotion { font-size: 14px; }

    .events-container { display: flex; flex-direction: column; gap: 2px; padding-top: 2px; width: 100%; }
    .event-bar {
      background-color: var(--bar-bg); color: var(--bar-text);
      font-size: 11px; height: 18px; line-height: 18px; padding: 0 6px;
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: 600;
    }
    .event-bar.is-start { margin-left: 4px; border-top-left-radius: 4px; border-bottom-left-radius: 4px; }
    .event-bar.is-end { margin-right: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; }
    .event-bar.is-middle { border-radius: 0; }
    .event-bar.is-single { margin: 0 4px; border-radius: 4px; }

    .money-dot-box { position: absolute; bottom: 6px; right: 6px; display: flex; gap: 3px; }
    .money-dot { width: 5px; height: 5px; border-radius: 50%; }
    .money-dot.inc { background: var(--income); } .money-dot.exp { background: var(--expense); }

    .tooltip {
      position: absolute; background: rgba(44, 62, 80, 0.95); color: #fff;
      padding: 12px; border-radius: 12px; font-size: 12px; z-index: 2000;
      pointer-events: none; box-shadow: 0 10px 20px rgba(0,0,0,0.2);
      display: none; min-width: 140px; line-height: 1.6; backdrop-filter: blur(4px);
    }
    .tooltip-title { font-weight: 700; border-bottom: 1px solid rgba(255,255,255,0.2); margin-bottom: 8px; padding-bottom: 4px; }
    .tooltip-money { margin-top: 8px; padding-top: 6px; border-top: 1px solid rgba(255,255,255,0.2); font-weight: 700; font-size: 11px; }

    .details-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
    .input-row { display: flex; gap: 6px; margin-bottom: 10px; }
    input, select, textarea { padding: 8px; border: 1px solid #ddd; border-radius: 8px; font-size: 13px; outline: none; }
    .add-btn { background: var(--accent); color: #fff; border: none; border-radius: 8px; width: 36px; height: 34px; cursor: pointer; }
    .list-container { list-style: none; overflow-y: auto; max-height: 150px; }
    .list-container li { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f9f9f9; font-size: 13px; }
    .del-btn { background: none; border: none; color: #ccc; cursor: pointer; }
    .save-btn { width: 100%; padding: 10px; background: #333; color: #fff; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; margin-top: 10px; }
  </style>
</head>
<body>
  <div id="app">
    <div class="main-container">
      <div class="calendar-section card">
        <header class="calendar-header">
          <h1>MY PLANNER</h1>
          <div class="controls">
            <button id="prevMonth" class="nav-btn"><i class="fas fa-chevron-left"></i></button>
            <span id="monthTitle"></span>
            <button id="nextMonth" class="nav-btn"><i class="fas fa-chevron-right"></i></button>
            <button id="goTodayBtn" class="today-btn">Today</button>
          </div>
        </header>
        <table class="calendar">
          <thead>
            <tr><th class="sun">Ïùº</th><th>Ïõî</th><th>Ìôî</th><th>Ïàò</th><th>Î™©</th><th>Í∏à</th><th class="sat">ÌÜ†</th></tr>
          </thead>
          <tbody id="calendarBody"></tbody>
        </table>
      </div>

      <div class="daily-details-section card" id="dailyDetails">
        <div class="details-header">
          <div>
            <h2 id="selectedDateText">ÎÇ†Ïßú ÏÑ†ÌÉù</h2>
            <span id="selectedEmotionDisplay" style="font-size: 24px;"></span>
          </div>
        </div>
        <div style="display: flex; gap: 20px;">
          <div style="flex: 1;">
            <h3>Schedule</h3>
            <div class="input-row">
              <input type="text" id="todoInput" placeholder="ÏùºÏ†ï" style="flex: 1;">
              <input type="date" id="todoEndDate">
              <button id="addTodoBtn" class="add-btn">+</button>
            </div>
            <ul id="todoList" class="list-container"></ul>
          </div>
          <div style="flex: 1;">
            <h3>Money</h3>
            <div class="input-row">
              <select id="moneyType"><option value="expense">ÏßÄÏ∂ú</option><option value="income">ÏàòÏûÖ</option></select>
              <input type="text" id="expenseTitle" placeholder="ÎÇ¥Ïó≠" style="flex: 1;">
              <input type="number" id="expenseAmount" placeholder="Í∏àÏï°" style="width: 80px;">
              <button id="addExpenseBtn" class="add-btn">OK</button>
            </div>
            <ul id="expenseList" class="list-container"></ul>
          </div>
        </div>
      </div>
    </div>

    <div class="side-container">
      <div class="card">
        <h3>Today's Mood</h3>
        <div style="display: flex; justify-content: space-around; margin-top: 15px;">
          <button class="emo-btn" data-emoji="üòÄ" style="font-size: 24px; border: none; background: none; cursor: pointer;">üòÄ</button>
          <button class="emo-btn" data-emoji="üòê" style="font-size: 24px; border: none; background: none; cursor: pointer;">üòê</button>
          <button class="emo-btn" data-emoji="üò≠" style="font-size: 24px; border: none; background: none; cursor: pointer;">üò≠</button>
          <button class="emo-btn" data-emoji="üò°" style="font-size: 24px; border: none; background: none; cursor: pointer;">üò°</button>
        </div>
        <button id="resetMoodBtn" class="save-btn" style="background: #eee; color: #666;">Mood Reset</button>
      </div>
      <div class="card">
        <h3>Summary</h3>
        <div style="margin-top: 10px;">
          <p>ÏàòÏûÖ: <span id="monthIncome" style="color: var(--income);">0</span></p>
          <p>ÏßÄÏ∂ú: <span id="monthExpense" style="color: var(--expense);">0</span></p>
        </div>
      </div>
      <div class="card">
        <h3>Memo</h3>
        <textarea id="freeMemo" style="width: 100%; height: 100px; margin-top: 10px;"></textarea>
        <button id="saveMemoBtn" class="save-btn">Save Memo</button>
      </div>
    </div>
  </div>

  <div id="calendarTooltip" class="tooltip"></div>
  <script src="app.js"></script>
</body>
</html>